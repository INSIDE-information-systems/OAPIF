<?xml version="1.0" encoding="UTF-8"?>
<!--GeoServer configuration brought to you courtesy of DataCove.EUwww.datacove.eu -->
<as:AppSchemaDataAccess xmlns:as="http://www.geotools.org/app-schema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.geotools.org/app-schema ./AppSchemaDataAccess.xsd">
	<namespaces>
		<Namespace>
			<prefix>eposb</prefix>
			<uri>https://forge.brgm.fr/svnrepository/epos/trunk/schemas/eposb</uri>
		</Namespace>
		<Namespace>
			<prefix>om</prefix>
			<uri>http://www.opengis.net/om/2.0</uri>
		</Namespace>
		<Namespace>
			<prefix>sam</prefix>
			<uri>http://www.opengis.net/sampling/2.0</uri>
		</Namespace>
		<Namespace>
			<prefix>sams</prefix>
			<uri>http://www.opengis.net/samplingSpatial/2.0</uri>
		</Namespace>
		<Namespace>
			<prefix>gwml-wellconstruction</prefix>
			<uri>http://www.opengis.net/gwml-wellconstruction/2.2</uri>
		</Namespace>
		<Namespace>
			<prefix>gco</prefix>
			<uri>http://www.isotc211.org/2005/gco</uri>
		</Namespace>
		<Namespace>
			<prefix>xlink</prefix>
			<uri>http://www.w3.org/1999/xlink</uri>
		</Namespace>
		<Namespace>
			<prefix>gmd</prefix>
			<uri>http://www.isotc211.org/2005/gmd</uri>
		</Namespace>
		<Namespace>
			<prefix>xsi</prefix>
			<uri>http://www.w3.org/2001/XMLSchema-instance</uri>
		</Namespace>
		<Namespace>
			<prefix>gml</prefix>
			<uri>http://www.opengis.net/gml/3.2</uri>
		</Namespace>
	</namespaces>
	<includedTypes>	</includedTypes>
	<sourceDataStores>
		<DataStore>
			<id>EPOS</id>
			<parameters>
				<Parameter>
					<name>dbtype</name>
					<value>postgisng</value>
				</Parameter>
				<Parameter>
					<name>host</name>
					<value>${wfs3.host}</value>
				</Parameter>
				<Parameter>
					<name>port</name>
					<value>5432</value>
				</Parameter>
				<Parameter>
					<name>database</name>
					<value>${wfs3.database}</value>
				</Parameter>
				<Parameter>
					<name>user</name>
					<value>${wfs3.user}</value>
				</Parameter>
				<Parameter>
					<name>schema</name>
					<value>app_diffussion_wfs3</value>
				</Parameter>
				<Parameter>
					<name>passwd</name>
					<value>${wfs3.passwd}</value>
				</Parameter>
				<Parameter>
					<name>Expose primary keys</name>
					<value>true</value>
				</Parameter>
			</parameters>
		</DataStore>
	</sourceDataStores>
	<!--    <catalog>...</catalog>-->
	<targetTypes>
		<FeatureType>
			<schemaUri>http://info.datacove.eu/epos-borehole.xsd</schemaUri>
		</FeatureType>
	</targetTypes>
	<typeMappings>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_alias_mv</sourceType>
			<targetElement>eposb:Alias</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>gml:identifier</targetAttribute>
					<sourceExpression>
						<OCQL>ident_pour_organisme</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>codeSpace</name>
						<value>nom_organisme</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>gml:name</targetAttribute>
					<sourceExpression>
						<OCQL>nom_organisme</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:origin/gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString</targetAttribute>
					<sourceExpression>
						<OCQL>nom_organisme</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:origin/gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>codeList</name>
						<value>'http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml'</value>
					</ClientProperty>
					<ClientProperty>
						<name>codeListValue</name>
						<value>'owner'</value>
					</ClientProperty>
				</AttributeMapping>
				<!-- guessing on the date as none in the mapping -->
				<AttributeMapping>
					<targetAttribute>eposb:aliasValidityPeriod/gml:TimePeriod/gml:beginPosition</targetAttribute>
					<sourceExpression>
						<OCQL>datmaj</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:borehole</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://boreholes.fr/',bss_id)</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>bss_id</value>
					</ClientProperty>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_georesource_mv</sourceType>
			<targetElement>eposb:BoreholeGeoresource</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:georesourceType</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'https://data.geoscience.earth/linktovocab/HydrogeologicUnit'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationQuality</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/607#',if_then_else(isNull(qua_code),'XXX',qua_code))</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationMethod</targetAttribute>
					<isMultiple>true</isMultiple>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/607#',if_then_else(isNull(met_code),'XXX',met_code))</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationTime/gml:TimePeriod</targetAttribute>
					<idExpression>
						<OCQL>strconcat('TimePeriod.',indice)</OCQL>
					</idExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationTime/gml:TimePeriod/gml:beginPosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_debut</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationEndDepth</targetAttribute>
					<sourceExpression>
						<OCQL>prof_mur</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>uom</name>
						<value>'http://qudt.org/vocab/unit/M'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:associationBeginDepth</targetAttribute>
					<sourceExpression>
						<OCQL>prof_toit</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>uom</name>
						<value>'http://qudt.org/vocab/unit/M'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:mainGeoresource</targetAttribute>
					<sourceExpression>
						<OCQL>entite_captee</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:georesourceFeature</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('https://data.geoscience.fr/id/hydrogeounit/',if_then_else(isNull(code_entite),'XXX',code_entite))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>nom_entite</value>
					</ClientProperty>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_borehole_use_mv</sourceType>
			<targetElement>eposb:BoreholeUse</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:use</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/148#',if_then_else(isNull(code_sandre),'XXX',code_sandre))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'missing in mapping'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:usePeriod/gml:TimePeriod</targetAttribute>
					<idExpression>
						<OCQL>strconcat('TimePeriod.purp.',indice)</OCQL>
					</idExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:usePeriod/gml:TimePeriod/gml:beginPosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_debut</OCQL>
					</sourceExpression>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_borehole_use_mv</sourceType>
			<targetElement>eposb:Purpose</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:purpose</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/148#',if_then_else(isNull(code_sandre),'XXX',code_sandre))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'missing in mapping'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:purposePeriod/gml:TimePeriod</targetAttribute>
					<idExpression>
						<OCQL>strconcat('TimePeriod.purp.',indice)</OCQL>
					</idExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:purposePeriod/gml:TimePeriod/gml:beginPosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_debut</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:purposeStatus</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'http://id.eaufrance.fr/nsa/914#1'</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'Declare'</value>
					</ClientProperty>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_parameter_mv</sourceType>
			<targetElement>om:NamedValue</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>om:name</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>namestr</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>om:value</targetAttribute>
					<sourceExpression>
						<OCQL>valuestr</OCQL>
					</sourceExpression>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_pe_sh_mv</sourceType>
			<targetElement>eposb:BoreholeMonitoringFacility</targetElement>
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>FEATURE_LINK</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:linkingTime/gml:TimePeriod</targetAttribute>
					<idExpression>
						<OCQL>strconcat('mf.gml.point.',if_then_else(isNull(indice),'XXX',indice))</OCQL>
					</idExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:linkingTime/gml:TimePeriod/gml:beginPosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_debut</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:linkingTime/gml:TimePeriod/gml:endPosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_fin</OCQL>
					</sourceExpression>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>indeterminatePosition</name>
						<value>date_fin_unknown</value>
					</ClientProperty>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
		<FeatureTypeMapping>
			<sourceDataStore>EPOS</sourceDataStore>
			<sourceType>ks_borehole_mv</sourceType>
			<targetElement>eposb:Borehole</targetElement>
			<defaultGeometry>eposb:bholeHeadworks/gwml-wellconstruction:BoreCollar/gwml-wellconstruction:collarLocation</defaultGeometry>
<!--			<defaultGeometry>sams:shape</defaultGeometry> -->
			<attributeMappings>
				<AttributeMapping>
					<targetAttribute>eposb:Borehole</targetAttribute>
					<idExpression>
						<OCQL>indice</OCQL>
<!--						<OCQL>bss_id</OCQL> -->
					</idExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>gml:identifier</targetAttribute>
					<sourceExpression>
						<OCQL>bss_id</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>codeSpace</name>
						<value>'http://www.ietf.org/rfc/rfc2616'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>gml:name</targetAttribute>
					<sourceExpression>
						<OCQL>libelle</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>sam:type</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'http://vocabulary.odm2.org/samplingfeaturetype/borehole/'</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'borehole'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>sam:sampledFeature </targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'https://sweet.jpl.nasa.gov/2.3/realmEarthReference.owl#EarthLithosphere'</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'Lithosphere'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>sam:parameter</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>om:NamedValue</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
				<!--/wfs:FeatureCollection/wfs:member[1]/eposb:Borehole/sams:shape/gml:Point-->
				<AttributeMapping>
					<targetAttribute>sams:shape/gml:Point</targetAttribute>
					<idExpression> 
					<!--							<OCQL>bss_id</OCQL>  -->
						<OCQL>strconcat('gml.shape.point.',if_then_else(isNull(bss_id),'XXX',bss_id))</OCQL>	
					</idExpression>
					<sourceExpression>
						<OCQL>loc</OCQL>
					</sourceExpression>
				</AttributeMapping>
			<!-- 	-->
				<AttributeMapping>
					<targetAttribute>eposb:boreholeUse</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>eposb:BoreholeUse</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:custodian/eposb:Custodian/eposb:custodian/gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString</targetAttribute>
					<sourceExpression>
						<OCQL>'BRGM'</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:custodian/eposb:Custodian/eposb:custodian/gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>codeList</name>
						<value>'http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml'</value>
					</ClientProperty>
					<ClientProperty>
						<name>codeListValue</name>
						<value>'custodian'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:legalAccessLevel/gmd:MD_LegalConstraints/gmd:accessConstraints/gmd:MD_RestrictionCode</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>codeList</name>
						<value>''</value>
					</ClientProperty>
					<ClientProperty>
						<name>codeListValue</name>
						<value>'openaccess'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:legalAccessLevel/gmd:MD_LegalConstraints/gmd:useConstraints/gmd:MD_RestrictionCode</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>codeList</name>
						<value>''</value>
					</ClientProperty>
					<ClientProperty>
						<name>codeListValue</name>
						<value>'openaccess'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:length</targetAttribute>
					<sourceExpression>
						<OCQL>profondeur_investigation</OCQL>
					</sourceExpression>
					<encodeIfEmpty>false</encodeIfEmpty>
					<ClientProperty>
						<name>uom</name>
						<value>'http://qudt.org/vocab/unit/M'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:operator/eposb:Operator/eposb:operator/gmd:CI_ResponsibleParty/gmd:organisationName/gco:CharacterString</targetAttribute>
					<sourceExpression>
						<OCQL>'BRGM'</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:operator/eposb:Operator/eposb:operator/gmd:CI_ResponsibleParty/gmd:role/gmd:CI_RoleCode</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>codeList</name>
						<value>'http://www.isotc211.org/2005/resources/Codelist/gmxCodelists.xml'</value>
					</ClientProperty>
					<ClientProperty>
						<name>codeListValue</name>
						<value>'owner'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:purpose</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>eposb:Purpose</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:referenceElevation/eposb:Elevation/eposb:elevation</targetAttribute>
					<sourceExpression>
						<OCQL>z_ouvrage</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>srsName</name>
						<value>'http://www.opengis.net/def/crs/EPSG/0/5720'</value>
					</ClientProperty>
					<ClientProperty>
						<name>srsDimension</name>
						<value>'1'</value>
					</ClientProperty>
					<ClientProperty>
						<name>uomLabels</name>
						<value>'m'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:referenceElevation/eposb:Elevation/eposb:elevationMeasurementMethod</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<!--<value>elmescode</value>-->
						<value>strconcat('http://id.eaufrance.fr/nsa/892#',if_then_else(isNull(elmescode),'XXX',elmescode))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>if_then_else(isNull(elmeslibelle),'DGPS as Dummy',elmeslibelle)</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:referenceElevation/eposb:Elevation/eposb:elevationType</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'http://resource.europe-geology.eu/vocabs/elevationtype/groundSurface'</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'Ground surface'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:startPoint</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>'http://resource.europe-geology.eu/vocabs/StartPoint/naturalLandSurface'</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'naturalLandSurface'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:status</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/146#',if_then_else(isNull(code_etat),'XXX',code_etat))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'Opérationnel'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:boreCollarPositionalAccuracy</targetAttribute>
					<sourceExpression>
						<OCQL>prec_xy</OCQL>
					</sourceExpression>
					<encodeIfEmpty>false</encodeIfEmpty>
					<ClientProperty>
						<name>uom</name>
						<value>'http://qudt.org/vocab/unit/CM'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:locationMeasurementMethod</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/917#',if_then_else(isNull(locmescode),'XXX',locmescode))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>if_then_else(isNull(locmeslibelle),'DGPS as Dummy',locmeslibelle)</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:accessibleDepth/eposb:AccessibleDepth/eposb:depthObservationTime/gml:TimeInstant/gml:timePosition</targetAttribute>
					<sourceExpression>
						<!-- wrong field, should be depth_date but wanted to see data! -->
						<OCQL>date_creation</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:accessibleDepth/eposb:AccessibleDepth/eposb:depth</targetAttribute>
					<sourceExpression>
						<OCQL>depth_val</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>uom</name>
						<value>'http://qudt.org/vocab/unit/M'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:lifeCycleInfo/eposb:LifeCycleInfo/eposb:updateDate/gml:TimeInstant/gml:timePosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_maj_dossier</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:lifeCycleInfo/eposb:LifeCycleInfo/eposb:status</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat('http://id.eaufrance.fr/nsa/390#',if_then_else(isNull(code_statut_referentiel_point_eau),'XXX',code_statut_referentiel_point_eau))</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>'Validé'</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:lifeCycleInfo/eposb:LifeCycleInfo/eposb:creationDate/gml:TimeInstant/gml:timePosition</targetAttribute>
					<sourceExpression>
						<OCQL>date_creation</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:locatedOnAdminUnit</targetAttribute>
					<encodeIfEmpty>true</encodeIfEmpty>
					<ClientProperty>
						<name>xlink:href</name>
						<value>strconcat( num_departement, code_insee)</value>
					</ClientProperty>
					<ClientProperty>
						<name>xlink:title</name>
						<value>nom_commune</value>
					</ClientProperty>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:bholeHeadworks/gwml-wellconstruction:BoreCollar/gwml-wellconstruction:collarElevation</targetAttribute>
					<sourceExpression>
						<OCQL>z_ouvrage</OCQL>
					</sourceExpression>
					<ClientProperty>
						<name>srsName</name>
						<value>'http://www.opengis.net/def/crs/EPSG/0/5720'</value>
					</ClientProperty>
					<ClientProperty>
						<name>srsDimension</name>
						<value>'1'</value>
					</ClientProperty>
					<ClientProperty>
						<name>uomLabels</name>
						<value>'m'</value>
					</ClientProperty>
				</AttributeMapping>
				<!-- don't know why the location isn't working, but now it does! -->
				<AttributeMapping>
					<targetAttribute>eposb:bholeHeadworks/gwml-wellconstruction:BoreCollar/gwml-wellconstruction:collarLocation</targetAttribute>
					<idExpression>
						<OCQL>bss_id</OCQL>
					<!--							<OCQL>strconcat('gml.point.',if_then_else(isNull(bss_id),'XXX',bss_id))</OCQL> 
				-->
					</idExpression>
					<sourceExpression>
						<OCQL>loc</OCQL>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:monitoringFacility</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>eposb:BoreholeMonitoringFacility</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:alias</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>eposb:Alias</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
				<AttributeMapping>
					<targetAttribute>eposb:georesourceFeature</targetAttribute>
					<sourceExpression>
						<OCQL>indice</OCQL>
						<linkElement>eposb:BoreholeGeoresource</linkElement>
						<linkField>FEATURE_LINK</linkField>
					</sourceExpression>
				</AttributeMapping>
			</attributeMappings>
		</FeatureTypeMapping>
	</typeMappings>
</as:AppSchemaDataAccess>
